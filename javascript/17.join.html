<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입  정규표현식</title>
    <link rel="stylesheet" type="text/css" href="css/commons.css">

    <script>
        //아이디 체크
        function idCheck() {
            var idInput = document.querySelector("input[name=memberId]");
            var idSpan = idInput.nextElementSibling;
            
            var regex = /^[a-z][a-zA-Z0-9-_]{4,19}$/;
            var isCorrect = regex.test(idInput.value);
            if(isCorrect) {
                idSpan.textContent ="멋진 아이디네요!";
                idSpan.style.color = "green";
            }
            else {
                idSpan.textContent = "5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.";
                idSpan.style.color = "red";
            }
        }
        
        //비밀번호 체크    
        function pwCheck() {
            var pwInput = document.querySelector("input[name=memberPw]");
            var pwSpan = pwInput.nextElementSibling;
            
            var regex =  /^[a-zA-Z0-9!@#$%]{8,16}$/;
            var isCorrect = regex.test(pwInput.value);
            if(isCorrect) {
                pwSpan.textContent = "안전한 비밀번호입니다.";
                pwSpan.style.color = "green";
            }
            else {
                pwSpan.textContent = "8~16자 영문 대 소문자, 숫자, 특수문자를 사용하세요.";
                pwSpan.style.color = "red";
            }
        }
        
        //닉네임 체크    
        function NickCheck() { 
            var nickInput = document.querySelector("input[name=memberNick]");
            var nickSpan = nickInput.nextElementSibling;

            var regex = /^[가-힣0-9]{2,10}$/;
            var isCorrect = regex.test(nickInput.value);
            if(isCorrect) {
                nickSpan.textContent = "사용가능한 닉네임입니다.";
                nickSpan.style.color = "green";
            } 
            else {
                nickSpan.textContent = "2~10자 한글, 숫자만 사용가능합니다.";
                nickSpan.style.color = "red";
            }
        }
        
        //생년월일 체크
        function birthCheck() {
            var birthInput = document.querySelector("input[name=memberBirth]");
            var birthSpan = birthInput.nextElementSibling;

            var regex = /^(19[0-9]{2})|(20[01][0-9])|(202[01])/;
            var isCorrect = regex.test(birthInput.value);
            if(isCorrect) {
                birthSpan.textContent = "";
            }
            else {
                birthSpan.textContent = "태어난 년도 4자리를 정확하게 입력하세요.";
                birthSpan.style.color = "red";
            }
        }
        
        //전화번호 체크
        function phoneCheck(){
            var phoneInput = document.querySelector("input[name=memberPhone]");
            var phoneSpan = phoneInput.nextElementSibling;

            var regex = /^010-[1-9][0-9]{3}-[0-9]{4}$/;
            var isCorrect = regex.test(phoneInput.value);
            if(isCorrect) {
                phoneSpan.textContent = "올바른 형식의 번호입니다.";
                phoneSpan.style.color = "green";
            }
            else{
                phoneSpan.textContent = "올바르지 않은 형식입니다.";
                phoneSpan.style.color = "red";
            }
        }
    </script>
</head>
<body>
    <form action="#" method="?">
        <div class="container-400 container-center">
            <div class="row center">
                <h2>회원가입</h2>
            </div>

            <!--ID-->
            <div class="row">
                <label>아이디</label>
                <input type="text" name="memberId"  class="form-input" oninput="idCheck();">
                <span></span>
            </div>

            <!--PW-->
            <div class="row">
                <label>비밀번호</label>
                <input type="password" name="memberPw"  class="form-input" oninput="pwCheck();">
                <span></span>
            </div>

            <!--NICk-->
            <div class="row">
                <label>닉네임</label>
                <input type="text" name="memberNick"  class="form-input" oninput="NickCheck();">
                <span></span>
            </div>
            
            <!--BIRTH-->
            <div class="row">
                <label class="form-block">생년월일</label>
                <input type = "date" name = "memberBirth"  class="form-input" oninput="birthCheck();">
                <span></span>
            </div>

            <!--EMAIL-->
            <div class="row">
                <label>이메일(선택)</label>
                <input type = "email" name ="memberEmail" class="form-input">
                <span></span>
            </div>

            <!--TEL-->
            <div class="row">
                <label>전화번호</label>
                <input type="tel" name="memberPhone" required class="form-input" oninput="phoneCheck();">
                <span></span>
            </div>    
            <div class="row right">
                <input type="submit" value="가입" class="form-btn">
            </div>
        </div>    
    </form>
</body>
</html>